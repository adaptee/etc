# Please consult /usr/share/portage/config/make.conf.example for a more
# detailed example.


#--------------------  Essentials ---------------------- # 

#CFLAGS="-O2 -march=native -mtune=core2 -pipe"
CFLAGS="-O2 -mtune=core2 -pipe"
CXXFLAGS="$CFLAGS"

# somebody say this can imporve applications startup time, really?
#LDFLAGS="${LDFLAGS} -Wl,-O1" 

# WARNING: Changing your CHOST is not something that should be done lightly.
# Please consult http://www.gentoo.org/doc/en/change-chost.xml before changing.
CHOST="i686-pc-linux-gnu"

# I have a CPU of 2 cores
MAKEOPTS="-j3"

# lowest priority in scheduling
PORTAGE_NICENESS=10

#--------------------  Hardwares ----------------------- # 

# I use Nvidia Card
VIDEO_CARDS="nvidia"
INPUT_DEVICES="keyboard mouse synaptics evdev"


# Enable testing of ebuilds that have not yet been deemed 'stable'.
ACCEPT_KEYWORDS="~x86"

# I really do not care about licenses ; all agreed
ACCEPT_LICENSE="*"


#--------------------  Networks ------------------------ # 

#SYNC="rsync://rsync.gentoo.org/gentoo-portage"
#SYNC="rsync://rsync.asia.gentoo.org/gentoo-portage"
#SYNC="rsync://ftp.jaist.ac.jp/pub/Linux/Gentoo-portage"
SYNC="rsync://mirrors.163.com/gentoo-portage"
#SYNC="rsync://mirrors.ustc.edu.cn/gentoo-portage"

GENTOO_MIRRORS="http://mirror.bjtu.edu.cn/gentoo/ http://mirrors.163.com/gentoo/  http://ftp.jaist.ac.jp/pub/Linux/Gentoo/"


#--------------------  USE flags ----------------------- # 

# audio support
USE="${USE} mp3 wma aac ogg flac wavpack vorbis gstreamer pulseaudio taglib"
USE="${USE} -jack -oss"

# video support
USE="${USE} ffmpeg mplayer matroska "

# grahpical support
USE="${USE} png pdf "

# X-window support 
USE="${USE} dri xvmc nvidia directfb acpi lm_sensors"

# unicode support
USE="${USE} unicode cjk nls iconv "

# font rendering
USE="${USE} fontconfig truetype xft "

# networking 
USE="${USE} -ipv6 -atm -ppp -aim -icq -avahi -bluetooth -kerberos -ldap -zeroconf"

# extra devices
USE="${USE} -cups -floopy -scanner -smartcard -pcmcia -pda -ipod -joystick -lirc -ieee1394 -formaticdb"

USE="${USE} -aalib -bidi -networkmanager"

# hal is deprecated
USE="${USE} -hal "

# programming languages
USE="${USE} python javascript lua "
USE="${USE} -fortran -mono -tk -motif -neXt -php -perl -ruby "
USE="${USE} -cvs -openmp -php -postgres -slang "

# coding support
USE="${USE} bash-completion zsh-completion examples pcre graphviz vim-syntax"

# I do not need those handbook for KDE
USE="${USE} -handbook"

# I do not need mouse support under virtual console
USE="${USE} -gpm"

# do not need support for MacOS X GUI
USE="${USE} -aqua"


# do not use GNOME
USE="${USE} -gnome"
USE="${USE} -gtk3"

# Misc
USE="${USE} policykit"
USE="${USE} accessibility "
USE="${USE} bzip2"

# KDE's idea
USE="${USE} semantic-desktop"

# I would to manage the symlink manually
#USE="${USE} -symlink"

# include additional Chinese language support
LINGUAS="en zh_CN"

#--------------------  Features ---------------------- # 

# fetch source code faster
FEATURES="${FAETURES} parallel-fetch"
FEATURES="${FEATURES} userfetch "

# Use finer-grained locks when installing packages
FEATURES="${FEATURES} parallel-instatll "

# Enable a special progress indicator when calculating dependencies
#FEATURES="${FEATURES} candy "

# Autogenerate digests for packages when running the emerge(1), ebuild(1)
#FEATURES="${FEATURES} digest "

# allow portage to use sqlite backend
FEATURES="${FEATURES} metadata-transfer"

#FEATURES="${FEATURES} fakeroot "

# for building debug version
#FEATURES="${FEATURES} nostrip "
#FEATURES="${FEATURES} splitdebug "

#--------------------  Locations ---------------------- # 

# keep the portage tree in clean state
DISTDIR="/var/lib/portage/distfiles"

# redefine the location of the temporary build directories
PORTAGE_TMPDIR="/tmp"
BUILD_PREFIX="/tmp/portage"

#--------------------  Miscs ------------------------- # 

EMERGE_DEFAULT_OPTS="--keep-going"

# for elogv
PORTAGE_ELOG_CLASSES="info log warn error qa"
PORTAGE_ELOG_SYSTEM="save echo:log,warn"

# compress manpages with xz instead of the default bzip2
PORTAGE_COMPRESS="xz"
PORTAGE_COMPRESS_FLAGS="-9" 

# controlled by myself
CONFIG_PROTECT_MASK="/etc/portage/package.use/"

# make sure always using less as manpager, whatever
MANPAGER=/usr/bin/less

# layman ! overlay !
source /var/lib/layman/make.conf

# when providing same version, prefer portage over overlays
#PORTDIR_OVERLAY = "$PORTDIR_OVERLAY $PORTDIR"
PORTDIR_OVERLAY = "$PORTDIR $PORTDIR_OVERLAY "

